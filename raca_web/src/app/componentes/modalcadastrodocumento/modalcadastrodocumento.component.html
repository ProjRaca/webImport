
<mat-card class="modal">
  <mat-card-header style="background-color: #1976d2; height: 40px;">
    <label style="color: white; text-align: center;margin-top: 1%;" *ngIf="!detalhes">Cadastro de Documentos</label>
    <label style="color: white; text-align: center;margin-top: 1%;" *ngIf="detalhes">Detalhes de Documentos</label>
  </mat-card-header>
  <div class="content" style="padding: 24px 24px;">
    <mat-card-content>
      <form [formGroup]="formularioModal">
        <p>
          <mat-form-field  class="input-large">
            <mat-label>Nome do Documento</mat-label>
            <input matInput formControlName="nomeDocumento" name="nomeDocumento" [readonly]="detalhes">
          </mat-form-field>
          <mat-form-field  class="input-large">
            <mat-label>Documento Pai</mat-label>
            <mat-select formControlName="docPai" *ngIf="!detalhes">
              <mat-option *ngFor="let doc of documentos" [value]="doc.id">
                {{doc.nome}}
              </mat-option>
              <mat-option *ngIf="documentos.length == 0" value="">Sem registros para exibir</mat-option>
            </mat-select>
          </mat-form-field>
        </p>

        <p>
          <mat-form-field  class="input margen-min">
            <mat-label>Empresa</mat-label>
            <mat-select formControlName="empresa" *ngIf="!detalhes">
              <mat-option *ngFor="let empresa of listaEmpresa" [value]="empresa.id">
                {{empresa.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field  class="input margen-min">
            <mat-label>Respons√°vel</mat-label>
            <input matInput
                formControlName="nomeResponsavel"
                [matAutocomplete]="auto" [readonly]="detalhes">
               <mat-autocomplete #auto="matAutocomplete">
                  <mat-option
                    *ngFor="let item of filteredOptions | async"
                    [value]="item.nome">
                      {{item.nome}}
                  </mat-option>
            </mat-autocomplete>
          </mat-form-field>

          <mat-form-field  class="input-modal">
            <mat-label>Validade</mat-label>
            <input matInput formControlName="dtValidade" name="dtValidadeInsert" mask="00/00/0000" [readonly]="detalhes">
          </mat-form-field>
        </p>

        <p>
          <mat-form-field  class="input-modal" >
            <mat-label>Data do Documento</mat-label>
            <input matInput formControlName="dtDocumento" name="dtDocumentoinsert" mask="00/00/0000" [readonly]="detalhes">
          </mat-form-field>

          <mat-form-field  class="input-modal" >
            <mat-label>Tipo Documento</mat-label>
            <mat-select formControlName="tpDocumento" name="tpDocumentoInsert" *ngIf="!detalhes">
              <mat-option *ngFor="let item of tipoDocumento" [value]="item.id">
                {{item.value}}
              </mat-option>
            </mat-select>
          </mat-form-field>


        </p>
        <div  class="input-modal">
          <div>
            <input  class="margen" required type="file" accept="application/pdf" matFileInput (change)="onFileChange($event)">
            <section class="checkbox margen">
              <mat-checkbox class="example-margin" name="documentoRestrito" formControlName="docRestrito" [disabled]="detalhes">Doc Restrito</mat-checkbox>
            </section>
          </div>
        </div>

      </form>
      </mat-card-content>
    </div>
    <div class="footer">
      <mat-card-footer>
        <button mat-raised-button  style="margin-right:50px !important;" mat-dialog-close>Cancelar</button>
        <button mat-raised-button color="primary" style="margin-right:50px !important;" (click)="salvar()" [mat-dialog-close]="true" >Salvar</button>
      </mat-card-footer>
    </div>
  </mat-card>

